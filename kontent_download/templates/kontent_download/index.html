{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shazam Chat UI</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'shazam/css/style.css' %}">
</head>
<body>
  <div class="chat-wrapper">
      <!-- Chat Header -->
      <div class="chat-header bg-dark p-3 d-flex align-items-center gap-2">
        <img src="{% static 'img/down_img.png' %}" alt="Shazam Logo" width="28">
        <h6 class="mb-0 text-white">Shazam</h6>
      </div>

      <!-- Chat Body -->
      <div class="chat-body p-3 d-flex flex-column gap-2" style="height: calc(100vh - 170px); overflow-y: auto;" id="chat-messages">
        <div class="chat-bubble bot">
          Tap "Identify" to recognize music
        </div>
        <div class="chat-bubble bot">
          sadsfd fw fsv dwq fvf dfdv dfdf vfdd dfv dd ffv ev vdvf fwwfwjfwjfbewjfbjewfw fwf w fwufweuif wfwifhewfhiewuhf<br>
          ewuifhewifweuifh weiufhewuifhiewufhiewufhewuifhiewfhiewfhewuifhewuifhewuifui wef wefhewf ewfweef weff
        </div>
        <div class="chat-bubble user">weffewffewfe!</div>
        <div class="chat-bubble user">Okay!</div>
      </div>

      <!-- Chat Footer -->
      <div id="chat-footer" class="chat-footer bg-light p-3 d-flex align-items-center gap-2 border-top position-relative">
        <!-- File upload -->
        <label for="fileInput"
               class="btn btn-outline-secondary rounded-circle d-flex justify-content-center align-items-center p-2"
               style="width: 38px; height: 38px; cursor: pointer;">
          <img src="{% static 'img/paperclip.svg' %}" width="18" alt="Attach">
        </label>
        <input type="file" id="fileInput" style="display: none;">

        <!-- Text input -->
        <textarea id="messageInput"
          rows="1"
          placeholder="Type a message..."
          class="form-control rounded-pill px-3 py-2"
          style="resize: none; overflow-y: hidden; max-height: 150px;"></textarea>

        <!-- Mic/Send button -->
        <button id="sendOrMicBtn"
                class="btn btn-outline-secondary rounded-circle d-flex justify-content-center align-items-center p-2"
                style="width: 38px; height: 38px; position: relative;">
          <img id="micIcon" src="{% static 'img/microphone.svg' %}" width="18" alt="Mic">
        </button>
      </div>

      <!-- Voice Recording UI -->
      <div id="voice-record-ui"
           class="bg-dark text-white p-2 d-none d-flex align-items-center justify-content-between"
           style="height: 60px; width: 100%; border-top: 1px solid rgba(255,255,255,0.1);">
        <div class="d-flex align-items-center gap-3 ps-3">
          <span class="text-danger fs-5">‚óè</span>
          <span id="recordingTime" class="fs-6 fw-semibold">00:00.0</span>
          <span class="text-light text-opacity-75" style="cursor: pointer;" onclick="cancelRecording()">Cancel</span>
        </div>
        <div class="pe-3">
          <button id="sendVoiceBtn"
                  class="btn bg-danger rounded-circle d-flex justify-content-center align-items-center pulse-button"
                  style="width: 45px; height: 45px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24">
              <path d="M10 14l11 -11"></path>
              <path d="M21 3l-6.5 18a.55.55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55.55 0 0 1 0 -1l18 -6.5"></path>
            </svg>
          </button>
        </div>
      </div>

    </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'shazam/js/main.js' %}"></script>

</body>
</html>
